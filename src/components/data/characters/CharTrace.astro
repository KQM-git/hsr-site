---
import type { CharacterTrace } from "types/game-data";

export interface Props extends CharacterTrace {}
const { name, desc, icon, minAsc, minLevel, children } = Astro.props;

// This is really janky
const major = icon.includes("_");
const dim = major ? "64" : "48";
---

<li class="flex gap-2 md:gap-4 items-start">
  <div class="relative shrink-0">
    <img src={`/img/traces/${icon}`} width={dim} height={dim} alt="" />
    <div
      class="bg-bg bg-opacity-95 text-xs rounded w-min px-1 absolute font-bold tracking-wider bottom-0 left-0 right-0 ml-auto mr-auto z-10"
    >
      {(minAsc && `A${minAsc}`) || (minLevel && `LV${minLevel}`) || "A0"}
    </div>
  </div>
  <div>
    <h2 class={major ? "subsubheader" : "subsubsubheader"}>{name}</h2>
    {desc}
  </div>
</li>

{children && children.map((ch) => <Astro.self {...ch} />)}
